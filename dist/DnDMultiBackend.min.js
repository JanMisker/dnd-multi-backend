!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.DnDMultiBackend=e():n.DnDMultiBackend=e()}("undefined"!=typeof self?self:this,function(){return function(n){function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var t={};return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:r})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},e.p="",e(e.s=205)}({172:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,e){return{_isMBTransition:!0,event:n,check:e}}},205:function(n,e,t){"use strict";function r(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.createTransition=e.TouchTransition=e.HTML5DragTransition=void 0;var o=t(206),i=r(o),a=t(208),c=t(172),u=r(c);e.HTML5DragTransition=a.HTML5DragTransition,e.TouchTransition=a.TouchTransition,e.createTransition=u.default,e.default=function(n){return n.getMonitor?new i.default(n):function(e){return new i.default(e,n)}}},206:function(n,e,t){"use strict";function r(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(207),a=function(n){return n&&n.__esModule?n:{default:n}}(i),c=function n(e,t){var i=this;o(this,n),this.setup=function(){if("undefined"!=typeof window){if(i.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");i.constructor.isSetUp=!0,i.addEventListeners(window),i.backends[i.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(i.constructor.isSetUp=!1,i.removeEventListeners(window),i.backends[i.current].instance.teardown())},this.connectDragSource=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return i.connectBackend("connectDragSource",e)},this.connectDragPreview=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return i.connectBackend("connectDragPreview",e)},this.connectDropTarget=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return i.connectBackend("connectDropTarget",e)},this.previewEnabled=function(){return i.backends[i.current].preview},this.addEventListeners=function(n){i.backends.forEach(function(e){e.transition&&n.addEventListener(e.transition.event,i.backendSwitcher,!0)})},this.removeEventListeners=function(n){i.backends.forEach(function(e){e.transition&&n.removeEventListener(e.transition.event,i.backendSwitcher,!0)})},this.backendSwitcher=function(n){var e=i.current,t=0;if(i.backends.some(function(e){return t!==i.current&&e.transition&&e.transition.check(n)?(i.current=t,!0):(t+=1,!1)}),i.current!==e){i.backends[e].instance.teardown(),Object.keys(i.nodes).forEach(function(n){var e=i.nodes[n];e.handler(),e.handler=i.callBackend(e.func,e.args)}),i.backends[i.current].instance.setup();var r=null;try{r=new n.constructor(n.type,n)}catch(e){r=document.createEvent("Event"),r.initEvent(n.type,n.bubbles,n.cancelable)}n.target.dispatchEvent(r)}},this.callBackend=function(n,e){var t;return(t=i.backends[i.current].instance)[n].apply(t,r(e))},this.connectBackend=function(n,e){var t=n+"_"+e[0],r=i.callBackend(n,e);return i.nodes[t]={func:n,args:e,handler:r},function(){var n,e=(n=i.nodes[t]).handler.apply(n,arguments);return delete i.nodes[t],e}};var c=(0,a.default)({backends:[]},t||{});if(c.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error)\n        see this guide: https://github.com/louisbrunner/dnd-multi-backend/tree/master/packages/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.backends=[],c.backends.forEach(function(n){if(!n.backend)throw new Error("You must specify a 'backend' property in your Backend entry: "+n);var t=n.transition;if(t&&!t._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: "+n);i.backends.push({instance:new n.backend(e),preview:n.preview||!1,transition:t})}),this.nodes={}};e.default=c},207:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return t.forEach(function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])}),n}},208:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HTML5DragTransition=e.TouchTransition=void 0;var r=t(172),o=function(n){return n&&n.__esModule?n:{default:n}}(r);e.TouchTransition=(0,o.default)("touchstart",function(n){return null!=n.touches}),e.HTML5DragTransition=(0,o.default)("dragstart",function(n){return!!n.type&&(-1!==n.type.indexOf("drag")||-1!==n.type.indexOf("drop"))})}})});