!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("ReactDnD")):"function"==typeof define&&define.amd?define(["React","ReactDnD"],t):"object"==typeof exports?exports.ReactDnDMultiBackend=t(require("React"),require("ReactDnD")):e.ReactDnDMultiBackend=t(e.React,e.ReactDnD)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=119)}({1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return{_isMBTransition:!0,event:e,check:t}}},116:function(t,n){t.exports=e},117:function(e,n){e.exports=t},119:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.createTransition=t.TouchTransition=t.HTML5DragTransition=t.Preview=void 0;var o=n(35),i=r(o),a=n(36),c=r(a),u=n(2),s=n(1),f=r(s);t.Preview=c.default,t.HTML5DragTransition=u.HTML5DragTransition,t.TouchTransition=u.TouchTransition,t.createTransition=f.default,t.default=function(e){return e.getMonitor?new i.default(e):function(t){return new i.default(t,e)}}},2:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HTML5DragTransition=t.TouchTransition=void 0;var o=n(1),i=r(o);t.TouchTransition=(0,i.default)("touchstart",function(e){return null!=e.touches}),t.HTML5DragTransition=(0,i.default)("dragstart",function(e){return!!e.type&&(e.type.indexOf("drag")!==-1||e.type.indexOf("drop")!==-1)})},35:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t,n){var i=this;o(this,e),this.setup=function(){if("undefined"!=typeof window){if(i.constructor.isSetUp)throw new Error("Cannot have two MultiBackends at the same time.");i.constructor.isSetUp=!0,i.addEventListeners(window),i.backends[i.current].instance.setup()}},this.teardown=function(){"undefined"!=typeof window&&(i.constructor.isSetUp=!1,i.removeEventListeners(window),i.backends[i.current].instance.teardown())},this.connectDragSource=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDragSource",t)},this.connectDragPreview=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDragPreview",t)},this.connectDropTarget=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.connectBackend("connectDropTarget",t)},this.previewEnabled=function(){return i.backends[i.current].preview},this.addEventListeners=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.backends[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=o.value;c.transition&&e.addEventListener(c.transition.event,i.backendSwitcher,!0)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.removeEventListeners=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.backends[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var c=o.value;c.transition&&e.removeEventListener(c.transition.event,i.backendSwitcher,!0)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.backendSwitcher=function(e){var t=i.current,n=0,r=!0,o=!1,a=void 0;try{for(var c,u=i.backends[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var s=c.value;if(n!==i.current&&s.transition&&s.transition.check(e)){i.current=n;break}n+=1}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}if(i.current!==t){i.backends[t].instance.teardown();var f=!0,d=!1,l=void 0;try{for(var p,y=Object.keys(i.nodes)[Symbol.iterator]();!(f=(p=y.next()).done);f=!0){var h=p.value,v=i.nodes[h];v.handler(),v.handler=i.callBackend(v.func,v.args)}}catch(e){d=!0,l=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw l}}i.backends[i.current].instance.setup();var b=new e.constructor(e.type,e);e.target.dispatchEvent(b)}},this.callBackend=function(e,t){var n;return(n=i.backends[i.current].instance)[e].apply(n,r(t))},this.connectBackend=function(e,t){var n=e+"_"+t[0],r=i.callBackend(e,t);return i.nodes[n]={func:e,args:t,handler:r},function(){var e,t=(e=i.nodes[n]).handler.apply(e,arguments);return delete i.nodes[n],t}};var a=Object.assign({backends:[]},n||{});if(a.backends.length<1)throw new Error("You must specify at least one Backend, if you are coming from 2.x.x (or don't understand this error) see this guide: https://github.com/louisbrunner/react-dnd-multi-backend#migrating-from-2xx");this.current=0,this.backends=[];var c=!0,u=!1,s=void 0;try{for(var f,d=a.backends[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var l=f.value;if(!l.backend)throw new Error("You must specify a 'backend' property in your Backend entry: "+l);var p=l.transition;if(p&&!p._isMBTransition)throw new Error("You must specify a valid 'transition' property (either undefined or the return of 'createTransition') in your Backend entry: "+l);this.backends.push({instance:new l.backend(t),preview:l.preview||!1,transition:p})}}catch(e){u=!0,s=e}finally{try{!c&&d.return&&d.return()}finally{if(u)throw s}}this.nodes={}};t.default=i},36:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,u,s,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(116),l=n(117),p=(a=(0,l.DragLayer)(function(e){return{currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging(),itemType:e.getItemType(),item:e.getItem()}}))((s=u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),f(t,[{key:"getStyle",value:function(){var e="translate("+this.props.currentOffset.x+"px, "+this.props.currentOffset.y+"px)";return{pointerEvents:"none",position:"fixed",top:0,left:0,transform:e,WebkitTransform:e}}},{key:"render",value:function(){return this.context.dragDropManager.getBackend().previewEnabled()&&this.props.isDragging&&null!==this.props.currentOffset?this.props.generator(this.props.itemType,this.props.item,this.getStyle()):null}}]),t}(d.PureComponent),u.defaultProps={currentOffset:{x:0,y:0},isDragging:!1,itemType:"",item:{}},u.propTypes={currentOffset:d.PropTypes.shape({x:d.PropTypes.number,y:d.PropTypes.number}),isDragging:d.PropTypes.bool,itemType:d.PropTypes.string,item:d.PropTypes.any,generator:d.PropTypes.func.isRequired},u.contextTypes={dragDropManager:d.PropTypes.object},c=s))||c;t.default=p}})});